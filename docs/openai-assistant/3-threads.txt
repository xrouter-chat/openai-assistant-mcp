Threads
Beta
Create threads that assistants can interact with.

Related guide: Assistants

Create thread
Beta
post
 
https://api.openai.com/v1/threads
Create a thread.

Request body
messages
array

Optional
A list of messages to start the thread with.


Hide properties
content
string or array

Required

Hide possible types
Text content
string
The text contents of the message.

Array of content parts
array
An array of content parts with a defined type, each can be of type text or images can be passed with image_url or image_file. Image types are only supported on Vision-compatible models.


Hide possible types
Image file
object
References an image File in the content of a message.


Hide properties
image_file
object

Required

Hide properties
file_id
string

Required
The File ID of the image in the message content. Set purpose="vision" when uploading the File if you need to later display the file content.

detail
string

Optional
Defaults to auto
Specifies the detail level of the image if specified by the user. low uses fewer tokens, you can opt in to high resolution using high.

type
string

Required
Always image_file.

Image URL
object
References an image URL in the content of a message.


Hide properties
image_url
object

Required

Hide properties
url
string

Required
The external URL of the image, must be a supported image types: jpeg, jpg, png, gif, webp.

detail
string

Optional
Defaults to auto
Specifies the detail level of the image. low uses fewer tokens, you can opt in to high resolution using high. Default value is auto

type
string

Required
The type of the content part.

Text
object
The text content that is part of a message.


Hide properties
text
string

Required
Text content to be sent to the model

type
string

Required
Always text.

role
string

Required
The role of the entity that is creating the message. Allowed values include:

user: Indicates the message is sent by an actual user and should be used in most cases to represent user-generated messages.
assistant: Indicates the message is generated by the assistant. Use this value to insert messages from the assistant into the conversation.
attachments
array or null

Optional
A list of files attached to the message, and the tools they should be added to.


Hide properties
file_id
string

Optional
The ID of the file to attach to the message.

tools
array

Optional
The tools to add this file to.


Hide possible types
Code interpreter tool
object

Hide properties
type
string

Required
The type of tool being defined: code_interpreter

FileSearch tool
object

Hide properties
type
string

Required
The type of tool being defined: file_search

metadata
map

Optional
Set of 16 key-value pairs that can be attached to an object. This can be useful for storing additional information about the object in a structured format, and querying for objects via API or the dashboard.

Keys are strings with a maximum length of 64 characters. Values are strings with a maximum length of 512 characters.

metadata
map

Optional
Set of 16 key-value pairs that can be attached to an object. This can be useful for storing additional information about the object in a structured format, and querying for objects via API or the dashboard.

Keys are strings with a maximum length of 64 characters. Values are strings with a maximum length of 512 characters.

tool_resources
object or null

Optional
A set of resources that are made available to the assistant's tools in this thread. The resources are specific to the type of tool. For example, the code_interpreter tool requires a list of file IDs, while the file_search tool requires a list of vector store IDs.


Hide properties
code_interpreter
object

Optional

Hide properties
file_ids
array

Optional
Defaults to []
A list of file IDs made available to the code_interpreter tool. There can be a maximum of 20 files associated with the tool.

file_search
Optional

Hide properties
vector_store_ids
array

Optional
The vector store attached to this thread. There can be a maximum of 1 vector store attached to the thread.

vector_stores
array

Optional
A helper to create a vector store with file_ids and attach it to this thread. There can be a maximum of 1 vector store attached to the thread.


Hide properties
chunking_strategy
object

Optional
The chunking strategy used to chunk the file(s). If not set, will use the auto strategy.


Hide possible types
Auto Chunking Strategy
object
The default strategy. This strategy currently uses a max_chunk_size_tokens of 800 and chunk_overlap_tokens of 400.


Hide properties
type
string

Required
Always auto.

Static Chunking Strategy
object

Hide properties
static
object

Required

Show properties
type
string

Required
Always static.

file_ids
array

Optional
A list of file IDs to add to the vector store. There can be a maximum of 10000 files in a vector store.

metadata
map

Optional
Set of 16 key-value pairs that can be attached to an object. This can be useful for storing additional information about the object in a structured format, and querying for objects via API or the dashboard.

Keys are strings with a maximum length of 64 characters. Values are strings with a maximum length of 512 characters.

Returns
A thread object.

curl https://api.openai.com/v1/threads \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -H "OpenAI-Beta: assistants=v2" \
  -d ''

{
  "id": "thread_abc123",
  "object": "thread",
  "created_at": 1699012949,
  "metadata": {},
  "tool_resources": {}
}

-----

Retrieve thread
Beta
get
 
https://api.openai.com/v1/threads/{thread_id}
Retrieves a thread.

Path parameters
thread_id
string

Required
The ID of the thread to retrieve.

Returns
The thread object matching the specified ID.

curl https://api.openai.com/v1/threads/thread_abc123 \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -H "OpenAI-Beta: assistants=v2"

{
  "id": "thread_abc123",
  "object": "thread",
  "created_at": 1699014083,
  "metadata": {},
  "tool_resources": {
    "code_interpreter": {
      "file_ids": []
    }
  }
}

-----
Modify thread
Beta
post
 
https://api.openai.com/v1/threads/{thread_id}
Modifies a thread.

Path parameters
thread_id
string

Required
The ID of the thread to modify. Only the metadata can be modified.

Request body
metadata
map

Optional
Set of 16 key-value pairs that can be attached to an object. This can be useful for storing additional information about the object in a structured format, and querying for objects via API or the dashboard.

Keys are strings with a maximum length of 64 characters. Values are strings with a maximum length of 512 characters.

tool_resources
object or null

Optional
A set of resources that are made available to the assistant's tools in this thread. The resources are specific to the type of tool. For example, the code_interpreter tool requires a list of file IDs, while the file_search tool requires a list of vector store IDs.


Hide properties
code_interpreter
object

Optional

Hide properties
file_ids
array

Optional
Defaults to []
A list of file IDs made available to the code_interpreter tool. There can be a maximum of 20 files associated with the tool.

file_search
object

Optional

Hide properties
vector_store_ids
array

Optional
The vector store attached to this thread. There can be a maximum of 1 vector store attached to the thread.

Returns
The modified thread object matching the specified ID.

curl https://api.openai.com/v1/threads/thread_abc123 \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -H "OpenAI-Beta: assistants=v2" \
  -d '{
      "metadata": {
        "modified": "true",
        "user": "abc123"
      }
    }'

{
  "id": "thread_abc123",
  "object": "thread",
  "created_at": 1699014083,
  "metadata": {
    "modified": "true",
    "user": "abc123"
  },
  "tool_resources": {}
}

-----

Delete thread
Beta
delete
 
https://api.openai.com/v1/threads/{thread_id}
Delete a thread.

Path parameters
thread_id
string

Required
The ID of the thread to delete.

Returns
Deletion status

curl https://api.openai.com/v1/threads/thread_abc123 \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -H "OpenAI-Beta: assistants=v2" \
  -X DELETE

{
  "id": "thread_abc123",
  "object": "thread.deleted",
  "deleted": true
}

-----
